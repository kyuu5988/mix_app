.user_view
  %h2= "#{current_user.nick_name}さんのアカウント設定"
  %br/

  /各種情報
  .user_info
    %p 登録情報
    %p= "　　　　本名：#{current_user.name}"
    %p= "　　フリガナ：#{current_user.kana}"
    %p= "　　　　性別：#{current_user.gender.name}"
    %p= "　　生年月日：#{current_user.birth}"
    %p= "ニックネーム：#{current_user.nick_name}"
    %p= "テーマカラー：#{current_user.color.name}"
    %br/


  /ログイン情報
  .login_info
    %p ログイン・セキュリティ情報
    %p= "前回ログイン日時：#{current_user.last_sign_in_at}"
    %p= "最新ログイン日時：#{current_user.current_sign_in_at}"
    %p= "　前回ログインIP：#{current_user.last_sign_in_ip}"
    %p= "　最新ログインIP：#{current_user.current_sign_in_ip}"
    %p= "累計ログイン回数：#{current_user.sign_in_count}回"
    %p= "前回メール認証送信日時：#{current_user.confirmation_sent_at}"
    %p= "最終のメール認証済日時：#{current_user.confirmed_at}"
    %br/
    %br/


  /devise デフォルト
  = form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f|
    = render "devise/shared/error_messages", resource: resource
    
    .field
      = f.label :メールアドレスを変更する場合は新しいアドレスを入力して下さい
      %br/
      = f.email_field :email, autocomplete: "email"
    - if devise_mapping.confirmable? && resource.pending_reconfirmation?
      %p.notice= "【すでにアドレス変更申請済】 #{resource.unconfirmed_email}宛てに認証メールを送信しましたので認証を行って下さい。"
    
    .field
      = f.label :新しいパスワード
      %i （変更しない場合は空欄で構いません）
      %br/
      = f.password_field :password, autocomplete: "new-password"

    .field
      = f.label :新しいパスワードの再入力
      %br/
      = f.password_field :password_confirmation, autocomplete: "new-password"
    .field
      = f.label :現在のパスワード
      %i （パスワードを忘れた場合はログインページより申請手続きをして下さい）
      %br/
      = f.password_field :current_password, autocomplete: "current-password"
    .actions
      = f.submit "情報を更新する"


  %br/
  %h3 アカウント情報削除
  %p
    #{button_to "登録情報を削除する", registration_path(resource_name), data: { confirm: "本当に削除しますか？" }, method: :delete}

  /= link_to "Back", :back

